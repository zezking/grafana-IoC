/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","react","@emotion/css","@grafana/ui","@grafana/runtime","react-router","react-dom","rxjs"],((t,n,e,r,i,o,a,c)=>(()=>{"use strict";var u={696:t=>{t.exports=e},744:n=>{n.exports=t},622:t=>{t.exports=i},187:t=>{t.exports=r},10:t=>{t.exports=n},528:t=>{t.exports=a},64:t=>{t.exports=o},464:t=>{t.exports=c}},s={};function l(t){var n=s[t];if(void 0!==n)return n.exports;var e=s[t]={exports:{}};return u[t](e,e.exports,l),e.exports}l.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return l.d(n,{a:n}),n},l.d=(t,n)=>{for(var e in n)l.o(n,e)&&!l.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},l.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),l.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var f={};return(()=>{l.r(f),l.d(f,{plugin:()=>fe});var t,n=l(744),e=l(10),r=l.n(e),i=l(64),o="/a/".concat(JSON.parse('{"id":"enze-grafanaioc-app"}').id);!function(t){t.One="one",t.Two="two",t.Three="three",t.Four="four",t.IOC="ioc"}(t||(t={}));var a=l(696),c=l(187);function u(t){return"".concat(o,"/").concat(t)}var s={container:"data-testid ac-container",apiKey:"data-testid ac-api-key",apiUrl:"data-testid ac-api-url",submit:"data-testid ac-submit-form"},p={container:"data-testid pg-one-container",navigateToFour:"data-testid navigate-to-four"},d={container:"data-testid pg-two-container"},h={container:"data-testid pg-three-container"},y={container:"data-testid pg-four-container",navigateBack:"data-testid navigate-back"},v=l(622);function g(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function b(){var t=g(["\n    padding: ",";\n    background-color: ",";\n    display: flex;\n    justify-content: center;\n  "]);return b=function(){return t},t}function m(){var t=g(["\n    width: 900px;\n    max-width: 100%;\n    min-height: 500px;\n  "]);return m=function(){return t},t}function w(){var t=g(["\n    margin-top: ",";\n  "]);return w=function(){return t},t}function _(){var e=(0,c.useStyles2)(A);return r().createElement(v.PluginPage,{layout:n.PageLayoutType.Canvas},r().createElement("div",{className:e.page,"data-testid":y.container},r().createElement("div",{className:e.container},r().createElement(c.LinkButton,{"data-testid":y.navigateBack,icon:"arrow-left",href:u(t.One)},"Back"),r().createElement("div",{className:e.content},"This is a full-width page without a navigation bar."))))}var A=function(t){return{page:(0,a.css)(b(),t.spacing(3),t.colors.background.secondary),container:(0,a.css)(m()),content:(0,a.css)(w(),t.spacing(6))}};function S(){var t,n,e=(t=["\n    margin-top: ",";\n  "],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));return S=function(){return e},e}function I(){var n=(0,c.useStyles2)(x);return r().createElement(v.PluginPage,null,r().createElement("div",{"data-testid":p.container},"This is page one.",r().createElement("div",{className:n.marginTop},r().createElement(c.LinkButton,{"data-testid":p.navigateToFour,href:u(t.Four)},"Full-width page example"))))}var T,E,x=function(t){return{marginTop:(0,a.css)(S(),t.spacing(2))}},j=l(528);function P(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function O(t,n,e){return O=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&C(i,e.prototype),i},O.apply(null,arguments)}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function C(t,n){return C=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},C(t,n)}function R(t){var n="function"==typeof Map?new Map:void 0;return R=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return O(t,arguments,D(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),C(r,t)},R(t)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(T||(T={})),function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(E||(E={})),new Set(["lazy","caseSensitive","path","id","index","children"]),R(Error);var k,N=["post","put","patch","delete"],F=(new Set(N),["get"].concat(function(t){if(Array.isArray(t))return P(t)}(k=N)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(k)||function(t,n){if(t){if("string"==typeof t)return P(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?P(t,n):void 0}}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));function M(){return M=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},M.apply(this,arguments)}new Set(F),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred"),new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var B=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(t){}new Map,e.startTransition,j.flushSync,e.useId;var q,W,V="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,K=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U=e.forwardRef((function(t,n){var r,o=t.onClick,a=t.relative,c=t.reloadDocument,u=t.replace,s=t.state,l=t.target,f=t.to,p=t.preventScrollReset,d=t.unstable_viewTransition,h=function(t,n){if(null==t)return{};var e,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e=o[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,B),y=e.useContext(i.UNSAFE_NavigationContext).basename,v=!1;if("string"==typeof f&&K.test(f)&&(r=f,V))try{var g=new URL(window.location.href),b=f.startsWith("//")?new URL(g.protocol+f):new URL(f),m=function(t,n){if("/"===n)return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;var e=n.endsWith("/")?n.length-1:n.length,r=t.charAt(e);return r&&"/"!==r?null:t.slice(e)||"/"}(b.pathname,y);b.origin===g.origin&&null!=m?f=m+b.search+b.hash:v=!0}catch(t){}var w=(0,i.useHref)(f,{relative:a}),_=function(t,n){var r=void 0===n?{}:n,o=r.target,a=r.replace,c=r.state,u=r.preventScrollReset,s=r.relative,l=r.unstable_viewTransition,f=(0,i.useNavigate)(),p=(0,i.useLocation)(),d=(0,i.useResolvedPath)(t,{relative:s});return e.useCallback((function(n){if(function(t,n){return!(0!==t.button||n&&"_self"!==n||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))}(n,o)){n.preventDefault();var e=void 0!==a?a:(0,i.createPath)(p)===(0,i.createPath)(d);f(t,{replace:e,state:c,preventScrollReset:u,relative:s,unstable_viewTransition:l})}}),[p,f,d,a,c,o,t,u,s,l])}(f,{replace:u,state:s,target:l,preventScrollReset:p,relative:a,unstable_viewTransition:d});return e.createElement("a",M({},h,{href:r||w,onClick:v||c?o:function(t){o&&o(t),t.defaultPrevented||_(t)},ref:n,target:l}))}));function L(){var t,n,e=(t=["\n    color: ",";\n    text-decoration: underline;\n  "],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));return L=function(){return e},e}function z(){var n=(0,c.useStyles2)(H),e=(0,i.useParams)().id;return r().createElement(v.PluginPage,null,r().createElement("div",{"data-testid":h.container},"This is page three.",r().createElement("br",null),r().createElement("br",null),e&&r().createElement(r().Fragment,null,r().createElement("strong",null,"ID:")," ",e),!e&&r().createElement(r().Fragment,null,r().createElement("strong",null,"No id parameter is set in the URL.")," ",r().createElement("br",null),"Try the following link: ",r().createElement("br",null),r().createElement(U,{className:n.link,to:u("".concat(t.Three,"/123456789"))},u("".concat(t.Three,"/123456789"))))))}(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(q||(q={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(W||(W={}));var H=function(t){return{link:(0,a.css)(L(),t.colors.text.link)}};function G(){return r().createElement(v.PluginPage,null,r().createElement("div",{"data-testid":d.container},r().createElement("p",null,"This is page two.")))}var J="Request",Y="Singleton",$="Transient",Q={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},X={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},Z=0;function tt(){return Z++}var nt=function(){function t(t,n){this.id=tt(),this.activated=!1,this.serviceIdentifier=t,this.scope=n,this.type=Q.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var n=new t(this.serviceIdentifier,this.scope);return n.activated=n.scope===Y&&this.activated,n.implementationType=this.implementationType,n.dynamicValue=this.dynamicValue,n.scope=this.scope,n.type=this.type,n.factory=this.factory,n.provider=this.provider,n.constraint=this.constraint,n.onActivation=this.onActivation,n.onDeactivation=this.onDeactivation,n.cache=this.cache,n},t}(),et="NULL argument",rt="Key Not Found",it="Ambiguous match found for serviceIdentifier:",ot="No matching bindings found for serviceIdentifier:",at="Missing required @injectable annotation in:",ct="Missing required @inject or @multiInject annotation in:",ut="Circular dependency found:",st=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},lt=function(t,n){return"onDeactivation() error in class "+t+": "+n},ft="Maximum call stack size exceeded",pt="named",dt="name",ht="unmanaged",yt="optional",vt="inject",gt="multi_inject",bt="inversify:paramtypes",mt="post_construct",wt="pre_destroy",_t=[vt,gt,dt,ht,pt,yt],At=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(bt,t),userGeneratedMetadata:Reflect.getMetadata("inversify:tagged",t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata("inversify:tagged_props",t)||[]},t}(),St={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function It(t){return n=t,(null!=(e=RangeError)&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](n):n instanceof e)||t.message===ft;var n,e}function Tt(t){var n;return"function"==typeof t?t.name:"symbol"==(void 0===t?"undefined":(n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)?t.toString():t}function Et(t,n,e){var r="",i=e(t,n);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var n="Object";null!==t.implementationType&&(n=Pt(t.implementationType)),r=r+"\n "+n,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r}function xt(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||xt(t.parentRequest,n))}function jt(t){t.childRequests.forEach((function(t){if(xt(t,t.serviceIdentifier)){var n=function(t){return function t(n,e){void 0===e&&(e=[]);var r=Tt(n.serviceIdentifier);return e.push(r),null!==n.parentRequest?t(n.parentRequest,e):e}(t).reverse().join(" --\x3e ")}(t);throw new Error(ut+" "+n)}jt(t)}))}function Pt(t){if(t.name)return t.name;var n=t.toString(),e=n.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+n}var Ot=function(){function t(t){this.id=tt(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}(),Dt=function(){function t(t,n){this.key=t,this.value=n}return t.prototype.toString=function(){return this.key===pt?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}(),Ct=function(t,n){this.parentContext=t,this.rootRequest=n},Rt=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}(),kt=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var n,e=t.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},e)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}(),Nt=function(){function t(t,n,e,r){this.id=tt(),this.type=t,this.serviceIdentifier=e;var i,o="symbol"==(void 0===n?"undefined":(i=n)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)?n.toString().slice(7,-1):n;this.name=new kt(o||""),this.identifier=n,this.metadata=new Array;var a,c,u=null;"string"==typeof r?u=new Dt(pt,r):(a=r,(null!=(c=Dt)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](a):a instanceof c)&&(u=r)),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var n=0,e=this.metadata;n<e.length;n++)if(e[n].key===t)return!0;return!1},t.prototype.isArray=function(){return this.hasTag(gt)},t.prototype.matchesArray=function(t){return this.matchesTag(gt)(t)},t.prototype.isNamed=function(){return this.hasTag(pt)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return _t.every((function(n){return t.key!==n}))}))},t.prototype.isOptional=function(){return this.matchesTag(yt)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===pt}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return _t.every((function(n){return t.key!==n}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(pt)(t)},t.prototype.matchesTag=function(t){var n=this;return function(e){for(var r=0,i=n.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===e)return!0}return!1}},t}(),Ft=function(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))};function Mt(t,n,e,r){var i=t.getConstructorMetadata(e),o=i.compilerGeneratedMetadata;if(void 0===o)throw new Error(at+" "+n+".");var a=i.userGeneratedMetadata,c=Object.keys(a),u=0===e.length&&c.length>0,s=c.length>e.length,l=function(t,n,e,r,i){for(var o=[],a=0;a<i;a++){var c=Bt(a,t,n,e,r);null!==c&&o.push(c)}return o}(r,n,o,a,u||s?c.length:e.length),f=Wt(t,e,n);return Ft(Ft([],l,!0),f,!0)}function Bt(t,n,e,r,i){var o,a,c=i[t.toString()]||[],u=Kt(c),s=!0!==u.unmanaged,l=r[t];if(o=l=u.inject||u.multiInject||l,(null!=(a=Rt)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](o):o instanceof a)&&(l=l.unwrap()),s){if(!n&&(l===Object||l===Function||void 0===l))throw new Error(ct+" argument "+t+" in class "+e+".");var f=new Nt(X.ConstructorArgument,u.targetName,l);return f.metadata=c,f}return null}function qt(t,n,e,r){var i=t||n;if(void 0===i){var o=at+" for property "+String(e)+" in class "+r+".";throw new Error(o)}return i}function Wt(t,n,e){for(var r=t.getPropertiesMetadata(n),i=[],o=Object.getOwnPropertySymbols(r),a=0,c=Object.keys(r).concat(o);a<c.length;a++){var u=c[a],s=r[u],l=Kt(s),f=l.targetName||u,p=qt(l.inject,l.multiInject,u,e),d=new Nt(X.ClassProperty,f,p);d.metadata=s,i.push(d)}var h=Object.getPrototypeOf(n.prototype).constructor;if(h!==Object){var y=Wt(t,h,e);i=Ft(Ft([],i,!0),y,!0)}return i}function Vt(t,n){var e=Object.getPrototypeOf(n.prototype).constructor;if(e!==Object){var r=Mt(t,Pt(e),e,!0),i=r.map((function(t){return t.metadata.filter((function(t){return t.key===ht}))})),o=[].concat.apply([],i).length,a=r.length-o;return a>0?a:Vt(t,e)}return 0}function Kt(t){var n={};return t.forEach((function(t){n[t.key.toString()]=t.value})),{inject:n[vt],multiInject:n[gt],targetName:n[dt],unmanaged:n[ht]}}var Ut=function(){function t(t,n,e,r,i){this.id=tt(),this.serviceIdentifier=t,this.parentContext=n,this.parentRequest=e,this.target=i,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===e?new Map:null}return t.prototype.addChildRequest=function(n,e,r){var i=new t(n,this.parentContext,this,e,r);return this.childRequests.push(i),i},t}();function Lt(t){return t._bindingDictionary}function zt(t,n,e,r,i){var o,a=Gt(e.container,i.serviceIdentifier);return a.length===St.NoBindingsAvailable&&e.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(i.serviceIdentifier).toSelf(),a=Gt(e.container,i.serviceIdentifier)),o=n?a:a.filter((function(t){var n=new Ut(t.serviceIdentifier,e,r,t,i);return t.constraint(n)})),function(t,n,e,r){switch(n.length){case St.NoBindingsAvailable:if(e.isOptional())return n;var i=Tt(t),o=ot;throw o+=function(t,n){if(n.isTagged()||n.isNamed()){var e="",r=n.getNamedTag(),i=n.getCustomTags();return null!==r&&(e+=r.toString()+"\n"),null!==i&&i.forEach((function(t){e+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+e}return" "+t}(i,e),o+=Et(r,i,Gt),new Error(o);case St.OnlyOneBindingAvailable:return n;case St.MultipleBindingsAvailable:default:if(e.isArray())return n;throw i=Tt(t),o=it+" "+i,o+=Et(r,i,Gt),new Error(o)}}(i.serviceIdentifier,o,i,e.container),o}function Ht(t,n,e,r,i,o){var a,c;if(null===i){a=zt(t,n,r,null,o),c=new Ut(e,r,null,a,o);var u=new Ct(r,c);r.addPlan(u)}else a=zt(t,n,r,i,o),c=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach((function(n){var e=null;if(o.isArray())e=c.addChildRequest(n.serviceIdentifier,n,o);else{if(n.cache)return;e=c}if(n.type===Q.Instance&&null!==n.implementationType){var i=function(t,n){return Mt(t,Pt(n),n,!1)}(t,n.implementationType);if(!r.container.options.skipBaseClassChecks){var a=Vt(t,n.implementationType);if(i.length<a){var u=st(Pt(n.implementationType));throw new Error(u)}}i.forEach((function(n){Ht(t,!1,n.serviceIdentifier,r,e,n)}))}}))}function Gt(t,n){var e=[],r=Lt(t);return r.hasKey(n)?e=r.get(n):null!==t.parent&&(e=Gt(t.parent,n)),e}function Jt(t){return("object"==typeof t&&null!==t||"function"==typeof t)&&"function"==typeof t.then}function Yt(t){return!!Jt(t)||Array.isArray(t)&&t.some(Jt)}var $t,Qt=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n,r,o;t.done?i(t.value):(n=t.value,r=n,(null!=(o=e)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o)?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},Xt=function(t,n){return Qt(void 0,void 0,void 0,(function(){var e,r;return function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n];case 1:return e=i.sent(),t.cache=e,[3,3];case 2:throw r=i.sent(),t.cache=null,t.activated=!1,r;case 3:return[2]}}))}))};function Zt(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n}!function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"}($t||($t={}));var tn=function(){return tn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},tn.apply(this,arguments)},nn=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,Zt(n,e)?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},en=function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},rn=function(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))};function on(t){var n,e=new((n=t.constr).bind.apply(n,rn([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach((function(n,r){var i=n.target.identifier,o=t.propertyInjections[r];n.target.isOptional()&&void 0===o||(e[i]=o)})),e}function an(t){return nn(this,void 0,void 0,(function(){var n,e,r,i;return en(this,(function(o){for(n=[],e=0,r=t;e<r.length;e++)i=r[e],Array.isArray(i)?n.push(Promise.all(i)):n.push(i);return[2,Promise.all(n)]}))}))}function cn(t,n){var e=function(t,n){var e,r,i,o;if(Reflect.hasMetadata(mt,t)){var a=Reflect.getMetadata(mt,t);try{return null===(r=(e=n)[a.value])||void 0===r?void 0:r.call(e)}catch(n){if(Zt(n,Error))throw new Error((i=t.name,o=n.message,"@postConstruct error in class "+i+": "+o))}}}(t,n);return Jt(e)?e.then((function(){return n})):n}var un=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n,r,o;t.done?i(t.value):(n=t.value,r=n,(null!=(o=e)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o)?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},sn=function(t){return function(n){n.parentContext.setCurrentRequest(n);var e=n.bindings,r=n.childRequests,i=n.target&&n.target.isArray(),o=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(i&&o)return r.map((function(n){return sn(t)(n)}));if(!n.target.isOptional()||0!==e.length){var a=e[0];return dn(t,n,a)}}},ln=function(t,n){var e=function(t){switch(t.type){case Q.Factory:return{factory:t.factory,factoryType:$t.Factory};case Q.Provider:return{factory:t.provider,factoryType:$t.Provider};case Q.DynamicValue:return{factory:t.dynamicValue,factoryType:$t.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}}(t);return function(r,i){try{return e.factory.bind(t)(n)}catch(t){throw It(t)&&(t=new Error((o=e.factoryType,a=n.currentRequest.serviceIdentifier.toString(),"It looks like there is a circular dependency in one of the '"+o+"' bindings. Please investigate bindings with service identifier '"+a+"'."))),t}var o,a}()},fn=function(t,n,e){var r,i=n.childRequests;switch(function(t){var n=null;switch(t.type){case Q.ConstantValue:case Q.Function:n=t.cache;break;case Q.Constructor:case Q.Instance:n=t.implementationType;break;case Q.DynamicValue:n=t.dynamicValue;break;case Q.Provider:n=t.provider;break;case Q.Factory:n=t.factory}if(null===n){var e=Tt(t.serviceIdentifier);throw new Error("Invalid binding type: "+e)}}(e),e.type){case Q.ConstantValue:case Q.Function:r=e.cache;break;case Q.Constructor:r=e.implementationType;break;case Q.Instance:r=function(t,n,e,r){!function(t,n){t.scope!==Y&&function(t,n){var e="Class cannot be instantiated in "+(t.scope===J?"request":"transient")+" scope.";if("function"==typeof t.onDeactivation)throw new Error(lt(n.name,e));if(Reflect.hasMetadata(wt,n))throw new Error("@preDestroy error in class "+n.name+": "+e)}(t,n)}(t,n);var i=function(t,n,e){var r;if(n.length>0){var i=function(t,n){return t.reduce((function(t,e){var r=n(e);return e.target.type===X.ConstructorArgument?t.constructorInjections.push(r):(t.propertyRequests.push(e),t.propertyInjections.push(r)),t.isAsync||(t.isAsync=Yt(r)),t}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(n,e),o=tn(tn({},i),{constr:t});r=i.isAsync?function(t){return nn(this,void 0,void 0,(function(){var n,e;return en(this,(function(r){switch(r.label){case 0:return[4,an(t.constructorInjections)];case 1:return n=r.sent(),[4,an(t.propertyInjections)];case 2:return e=r.sent(),[2,on(tn(tn({},t),{constructorInjections:n,propertyInjections:e}))]}}))}))}(o):on(o)}else r=new t;return r}(n,e,r);return Jt(i)?i.then((function(t){return cn(n,t)})):cn(n,i)}(e,e.implementationType,i,sn(t));break;default:r=ln(e,n.parentContext)}return r},pn=function(t,n,e){var r=function(t,n){return n.scope===Y&&n.activated?n.cache:n.scope===J&&t.has(n.id)?t.get(n.id):null}(t,n);return null!==r||function(t,n,e){n.scope===Y&&function(t,n){t.cache=n,t.activated=!0,Jt(n)&&Xt(t,n)}(n,e),n.scope===J&&function(t,n,e){t.has(n.id)||t.set(n.id,e)}(t,n,e)}(t,n,r=e()),r},dn=function(t,n,e){return pn(t,e,(function(){var r=fn(t,n,e);return Jt(r)?r.then((function(t){return hn(n,e,t)})):hn(n,e,r)}))};function hn(t,n,e){var r,i=yn(t.parentContext,n,e),o=mn(t.parentContext.container),a=o.next();do{r=a.value;var c=t.parentContext,u=t.serviceIdentifier,s=bn(r,u);i=Jt(i)?gn(s,c,i):vn(s,c,i),a=o.next()}while(!0!==a.done&&!Lt(r).hasKey(t.serviceIdentifier));return i}var yn=function(t,n,e){return"function"==typeof n.onActivation?n.onActivation(t,e):e},vn=function(t,n,e){for(var r=t.next();!r.done;){if(Jt(e=r.value(n,e)))return gn(t,n,e);r=t.next()}return e},gn=function(t,n,e){return un(void 0,void 0,void 0,(function(){var r,i;return function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(o){switch(o.label){case 0:return[4,e];case 1:r=o.sent(),i=t.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(n,r)];case 3:return r=o.sent(),i=t.next(),[3,2];case 4:return[2,r]}}))}))},bn=function(t,n){var e=t._activations;return e.hasKey(n)?e.get(n).values():[].values()},mn=function(t){for(var n=[t],e=t.parent;null!==e;)n.push(e),e=e.parent;return{next:function(){var t=n.pop();return void 0!==t?{done:!1,value:t}:{done:!0,value:void 0}}}},wn=function(t,n){var e=t.parentRequest;return null!==e&&(!!n(e)||wn(e,n))},_n=function(t){return function(n){var e=function(e){return null!==e&&null!==e.target&&e.target.matchesTag(t)(n)};return e.metaData=new Dt(t,n),e}},An=_n(pt),Sn=function(t){return function(n){var e=null;if(null!==n){if(e=n.bindings[0],"string"==typeof t)return e.serviceIdentifier===t;var r=n.bindings[0].implementationType;return t===r}return!1}},In=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new Tn(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=An(t),new Tn(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t&&null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new Tn(this._binding)},t.prototype.whenTargetTagged=function(t,n){return this._binding.constraint=_n(t)(n),new Tn(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(n){return null!==n&&Sn(t)(n.parentRequest)},new Tn(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(n){return null!==n&&An(t)(n.parentRequest)},new Tn(this._binding)},t.prototype.whenParentTagged=function(t,n){return this._binding.constraint=function(e){return null!==e&&_n(t)(n)(e.parentRequest)},new Tn(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(n){return null!==n&&wn(n,Sn(t))},new Tn(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(n){return null!==n&&!wn(n,Sn(t))},new Tn(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(n){return null!==n&&wn(n,An(t))},new Tn(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(n){return null!==n&&!wn(n,An(t))},new Tn(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._binding.constraint=function(e){return null!==e&&wn(e,_n(t)(n))},new Tn(this._binding)},t.prototype.whenNoAncestorTagged=function(t,n){return this._binding.constraint=function(e){return null!==e&&!wn(e,_n(t)(n))},new Tn(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(n){return null!==n&&wn(n,t)},new Tn(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(n){return null!==n&&!wn(n,t)},new Tn(this._binding)},t}(),Tn=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new In(this._binding)},t.prototype.onDeactivation=function(t){return this._binding.onDeactivation=t,new In(this._binding)},t}(),En=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new In(this._binding),this._bindingOnSyntax=new Tn(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},t}(),xn=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=J,new En(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=Y,new En(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=$,new En(this._binding)},t}(),jn=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new In(this._binding),this._bindingOnSyntax=new Tn(this._binding),this._bindingInSyntax=new xn(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},t}(),Pn=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=Q.Instance,this._binding.implementationType=t,new jn(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=Q.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Y,new En(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=Q.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new jn(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=Q.Constructor,this._binding.implementationType=t,this._binding.scope=Y,new En(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=Q.Factory,this._binding.factory=t,this._binding.scope=Y,new En(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error("Value provided to function binding must be a function!");var n=this.toConstantValue(t);return this._binding.type=Q.Function,this._binding.scope=Y,n},t.prototype.toAutoFactory=function(t){return this._binding.type=Q.Factory,this._binding.factory=function(n){return function(){return n.container.get(t)}},this._binding.scope=Y,new En(this._binding)},t.prototype.toAutoNamedFactory=function(t){return this._binding.type=Q.Factory,this._binding.factory=function(n){return function(e){return n.container.getNamed(t,e)}},new En(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=Q.Provider,this._binding.provider=t,this._binding.scope=Y,new En(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(n){return n.container.get(t)}))},t}(),On=function(){function t(){}return t.of=function(n,e,r,i,o){var a=new t;return a.bindings=n,a.middleware=e,a.deactivations=i,a.activations=r,a.moduleActivationStore=o,a},t}(),Dn=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,n){if(null==t)throw new Error(et);if(null==n)throw new Error(et);var e=this._map.get(t);void 0!==e?e.push(n):this._map.set(t,[n])},t.prototype.get=function(t){if(null==t)throw new Error(et);var n=this._map.get(t);if(void 0!==n)return n;throw new Error(rt)},t.prototype.remove=function(t){if(null==t)throw new Error(et);if(!this._map.delete(t))throw new Error(rt)},t.prototype.removeIntersection=function(t){var n=this;this.traverse((function(e,r){var i=t.hasKey(e)?t.get(e):void 0;if(void 0!==i){var o=r.filter((function(t){return!i.some((function(n){return t===n}))}));n._setValue(e,o)}}))},t.prototype.removeByCondition=function(t){var n=this,e=[];return this._map.forEach((function(r,i){for(var o=[],a=0,c=r;a<c.length;a++){var u=c[a];t(u)?e.push(u):o.push(u)}n._setValue(i,o)})),e},t.prototype.hasKey=function(t){if(null==t)throw new Error(et);return this._map.has(t)},t.prototype.clone=function(){var n=new t;return this._map.forEach((function(t,e){t.forEach((function(t){return n.add(e,"object"==typeof(r=t)&&null!==r&&"clone"in r&&"function"==typeof r.clone?t.clone():t);var r}))})),n},t.prototype.traverse=function(t){this._map.forEach((function(n,e){t(e,n)}))},t.prototype._setValue=function(t,n){n.length>0?this._map.set(t,n):this._map.delete(t)},t}(),Cn=function(){function t(){this._map=new Map}return t.prototype.remove=function(t){if(this._map.has(t)){var n=this._map.get(t);return this._map.delete(t),n}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(t,n,e){this._getModuleActivationHandlers(t).onDeactivations.add(n,e)},t.prototype.addActivation=function(t,n,e){this._getModuleActivationHandlers(t).onActivations.add(n,e)},t.prototype.clone=function(){var n=new t;return this._map.forEach((function(t,e){n._map.set(e,{onActivations:t.onActivations.clone(),onDeactivations:t.onDeactivations.clone()})})),n},t.prototype._getModuleActivationHandlers=function(t){var n=this._map.get(t);return void 0===n&&(n=this._getEmptyHandlersStore(),this._map.set(t,n)),n},t.prototype._getEmptyHandlersStore=function(){return{onActivations:new Dn,onDeactivations:new Dn}},t}();function Rn(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n}var kn=function(){return kn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},kn.apply(this,arguments)},Nn=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,Rn(n,e)?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},Fn=function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Mn=function(){function t(t){var n=t||{};if("object"!=typeof n)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===n.defaultScope)n.defaultScope=$;else if(n.defaultScope!==Y&&n.defaultScope!==$&&n.defaultScope!==J)throw new Error('Invalid Container option. Default scope must be a string ("singleton" or "transient").');if(void 0===n.autoBindInjectable)n.autoBindInjectable=!1;else if("boolean"!=typeof n.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===n.skipBaseClassChecks)n.skipBaseClassChecks=!1;else if("boolean"!=typeof n.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=tt(),this._bindingDictionary=new Dn,this._snapshots=[],this._middleware=null,this._activations=new Dn,this._deactivations=new Dn,this.parent=null,this._metadataReader=new At,this._moduleActivationStore=new Cn}return t.merge=function(n,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,a=function(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))}([n,e],r,!0).map((function(t){return Lt(t)})),c=Lt(o);return a.forEach((function(t){var n;n=c,t.traverse((function(t,e){e.forEach((function(t){n.add(t.serviceIdentifier,t.clone())}))}))})),o},t.prototype.load=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=e(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Nn(this,void 0,void 0,(function(){var n,e,r,i,o;return Fn(this,(function(a){switch(a.label){case 0:n=this._getContainerModuleHelpersFactory(),e=0,r=t,a.label=1;case 1:return e<r.length?(i=r[e],o=n(i.id),[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)]):[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];n.forEach((function(n){var e=t._removeModuleBindings(n.id);t._deactivateSingletons(e),t._removeModuleHandlers(n.id)}))},t.prototype.unloadAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Nn(this,void 0,void 0,(function(){var n,e,r,i;return Fn(this,(function(o){switch(o.label){case 0:n=0,e=t,o.label=1;case 1:return n<e.length?(r=e[n],i=this._removeModuleBindings(r.id),[4,this._deactivateSingletonsAsync(i)]):[3,4];case 2:o.sent(),this._removeModuleHandlers(r.id),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.bind=function(t){var n=this.options.defaultScope||$,e=new nt(t,n);return this._bindingDictionary.add(t,e),new Pn(e)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.rebindAsync=function(t){return Nn(this,void 0,void 0,(function(){return Fn(this,(function(n){switch(n.label){case 0:return[4,this.unbindAsync(t)];case 1:return n.sent(),[2,this.bind(t)]}}))}))},t.prototype.unbind=function(t){if(this._bindingDictionary.hasKey(t)){var n=this._bindingDictionary.get(t);this._deactivateSingletons(n)}this._removeServiceFromDictionary(t)},t.prototype.unbindAsync=function(t){return Nn(this,void 0,void 0,(function(){var n;return Fn(this,(function(e){switch(e.label){case 0:return this._bindingDictionary.hasKey(t)?(n=this._bindingDictionary.get(t),[4,this._deactivateSingletonsAsync(n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return this._removeServiceFromDictionary(t),[2]}}))}))},t.prototype.unbindAll=function(){var t=this;this._bindingDictionary.traverse((function(n,e){t._deactivateSingletons(e)})),this._bindingDictionary=new Dn},t.prototype.unbindAllAsync=function(){return Nn(this,void 0,void 0,(function(){var t,n=this;return Fn(this,(function(e){switch(e.label){case 0:return t=[],this._bindingDictionary.traverse((function(e,r){t.push(n._deactivateSingletonsAsync(r))})),[4,Promise.all(t)];case 1:return e.sent(),this._bindingDictionary=new Dn,[2]}}))}))},t.prototype.onActivation=function(t,n){this._activations.add(t,n)},t.prototype.onDeactivation=function(t,n){this._deactivations.add(t,n)},t.prototype.isBound=function(t){var n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n},t.prototype.isCurrentBound=function(t){return this._bindingDictionary.hasKey(t)},t.prototype.isBoundNamed=function(t,n){return this.isBoundTagged(t,pt,n)},t.prototype.isBoundTagged=function(t,n,e){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=function(t,n,e,r){var i=new Nt(X.Variable,"",n,new Dt(e,r)),o=new Ot(t);return new Ut(n,o,null,[],i)}(this,t,n,e);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,n,e)),r},t.prototype.snapshot=function(){this._snapshots.push(On.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error("No snapshot available to restore.");this._bindingDictionary=t.bindings,this._activations=t.activations,this._deactivations=t.deactivations,this._middleware=t.middleware,this._moduleActivationStore=t.moduleActivationStore},t.prototype.createChild=function(n){var e=new t(n||this.options);return e.parent=this,e},t.prototype.applyMiddleware=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,n){return n(t)}),e)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){var n=this._getNotAllArgs(t,!1);return this._getButThrowIfAsync(n)},t.prototype.getAsync=function(t){return Nn(this,void 0,void 0,(function(){var n;return Fn(this,(function(e){return n=this._getNotAllArgs(t,!1),[2,this._get(n)]}))}))},t.prototype.getTagged=function(t,n,e){var r=this._getNotAllArgs(t,!1,n,e);return this._getButThrowIfAsync(r)},t.prototype.getTaggedAsync=function(t,n,e){return Nn(this,void 0,void 0,(function(){var r;return Fn(this,(function(i){return r=this._getNotAllArgs(t,!1,n,e),[2,this._get(r)]}))}))},t.prototype.getNamed=function(t,n){return this.getTagged(t,pt,n)},t.prototype.getNamedAsync=function(t,n){return this.getTaggedAsync(t,pt,n)},t.prototype.getAll=function(t){var n=this._getAllArgs(t);return this._getButThrowIfAsync(n)},t.prototype.getAllAsync=function(t){var n=this._getAllArgs(t);return this._getAll(n)},t.prototype.getAllTagged=function(t,n,e){var r=this._getNotAllArgs(t,!0,n,e);return this._getButThrowIfAsync(r)},t.prototype.getAllTaggedAsync=function(t,n,e){var r=this._getNotAllArgs(t,!0,n,e);return this._getAll(r)},t.prototype.getAllNamed=function(t,n){return this.getAllTagged(t,pt,n)},t.prototype.getAllNamedAsync=function(t,n){return this.getAllTaggedAsync(t,pt,n)},t.prototype.resolve=function(t){var n=this.isBound(t);n||this.bind(t).toSelf();var e=this.get(t);return n||this.unbind(t),e},t.prototype._preDestroy=function(t,n){var e,r;if(Reflect.hasMetadata(wt,t))return null===(r=(e=n)[Reflect.getMetadata(wt,t).value])||void 0===r?void 0:r.call(e)},t.prototype._removeModuleHandlers=function(t){var n=this._moduleActivationStore.remove(t);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)},t.prototype._removeModuleBindings=function(t){return this._bindingDictionary.removeByCondition((function(n){return n.moduleId===t}))},t.prototype._deactivate=function(t,n){var e=this,r=Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(t.serviceIdentifier)){var i=this._deactivateContainer(n,this._deactivations.get(t.serviceIdentifier).values());if(Jt(i))return this._handleDeactivationError(i.then((function(){return e._propagateContainerDeactivationThenBindingAndPreDestroyAsync(t,n,r)})),r)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(t,n,r);if(Jt(o))return this._handleDeactivationError(o,r)}catch(t){if(Rn(t,Error))throw new Error(lt(r.name,t.message))}},t.prototype._handleDeactivationError=function(t,n){return Nn(this,void 0,void 0,(function(){var e;return Fn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t];case 1:return r.sent(),[3,3];case 2:if(Rn(e=r.sent(),Error))throw new Error(lt(n.name,e.message));return[3,3];case 3:return[2]}}))}))},t.prototype._deactivateContainer=function(t,n){for(var e=this,r=n.next();r.value;){var i=r.value(t);if(Jt(i))return i.then((function(){return e._deactivateContainerAsync(t,n)}));r=n.next()}},t.prototype._deactivateContainerAsync=function(t,n){return Nn(this,void 0,void 0,(function(){var e;return Fn(this,(function(r){switch(r.label){case 0:e=n.next(),r.label=1;case 1:return e.value?[4,e.value(t)]:[3,3];case 2:return r.sent(),e=n.next(),[3,1];case 3:return[2]}}))}))},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,n=function(t,n){t._binding.moduleId=n},e=function(e){return function(r){var i=t.rebind(r);return n(i,e),i}},r=function(n){return function(e,r){t._moduleActivationStore.addActivation(n,e,r),t.onActivation(e,r)}},i=function(n){return function(e,r){t._moduleActivationStore.addDeactivation(n,e,r),t.onDeactivation(e,r)}};return function(o){return{bindFunction:(a=o,function(e){var r=t.bind(e);return n(r,a),r}),isboundFunction:function(n){return t.isBound(n)},onActivationFunction:r(o),onDeactivationFunction:i(o),rebindFunction:e(o),unbindFunction:function(n){return t.unbind(n)},unbindAsyncFunction:function(n){return t.unbindAsync(n)}};var a}},t.prototype._getAll=function(t){return Promise.all(this._get(t))},t.prototype._get=function(t){var n=kn(kn({},t),{contextInterceptor:function(t){return t},targetType:X.Variable});if(this._middleware){var e=this._middleware(n);if(null==e)throw new Error("Invalid return type in middleware. Middleware must return!");return e}return this._planAndResolve()(n)},t.prototype._getButThrowIfAsync=function(t){var n=this._get(t);if(Yt(n))throw new Error("You are attempting to construct '"+t.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return n},t.prototype._getAllArgs=function(t){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:t}},t.prototype._getNotAllArgs=function(t,n,e,r){return{avoidConstraints:!1,isMultiInject:n,serviceIdentifier:t,key:e,value:r}},t.prototype._planAndResolve=function(){var t=this;return function(n){var e=function(t,n,e,r,i,o,a,c){void 0===c&&(c=!1);var u=new Ot(n),s=function(t,n,e,r,i,o){var a=new Dt(t?gt:vt,e),c=new Nt(n,"",e,a);if(void 0!==i){var u=new Dt(i,o);c.metadata.push(u)}return c}(e,r,i,0,o,a);try{return Ht(t,c,i,u,null,s),u}catch(t){throw It(t)&&jt(u.plan.rootRequest),t}}(t._metadataReader,t,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);return function(t){return sn(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}(e=n.contextInterceptor(e))}},t.prototype._deactivateIfSingleton=function(t){var n=this;if(t.activated)return Jt(t.cache)?t.cache.then((function(e){return n._deactivate(t,e)})):this._deactivate(t,t.cache)},t.prototype._deactivateSingletons=function(t){for(var n=0,e=t;n<e.length;n++){var r=e[n];if(Jt(this._deactivateIfSingleton(r)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},t.prototype._deactivateSingletonsAsync=function(t){return Nn(this,void 0,void 0,(function(){var n=this;return Fn(this,(function(e){switch(e.label){case 0:return[4,Promise.all(t.map((function(t){return n._deactivateIfSingleton(t)})))];case 1:return e.sent(),[2]}}))}))},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(t,n,e){return this.parent?this._deactivate.bind(this.parent)(t,n):this._bindingDeactivationAndPreDestroy(t,n,e)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(t,n,e){return Nn(this,void 0,void 0,(function(){return Fn(this,(function(r){switch(r.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(t,n)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(t,n,e)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype._removeServiceFromDictionary=function(t){try{this._bindingDictionary.remove(t)}catch(n){throw new Error("Could not unbind serviceIdentifier: "+Tt(t))}},t.prototype._bindingDeactivationAndPreDestroy=function(t,n,e){var r=this;if("function"==typeof t.onDeactivation){var i=t.onDeactivation(n);if(Jt(i))return i.then((function(){return r._preDestroy(e,n)}))}return this._preDestroy(e,n)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(t,n,e){return Nn(this,void 0,void 0,(function(){return Fn(this,(function(r){switch(r.label){case 0:return"function"!=typeof t.onDeactivation?[3,2]:[4,t.onDeactivation(n)];case 1:r.sent(),r.label=2;case 2:return[4,this._preDestroy(e,n)];case 3:return r.sent(),[2]}}))}))},t}();function Bn(){return function(t){if(Reflect.hasOwnMetadata(bt,t))throw new Error("Cannot apply @injectable decorator multiple times.");var n=Reflect.getMetadata("design:paramtypes",t)||[];return Reflect.defineMetadata(bt,n,t),t}}function qn(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Wn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,n,e){return n&&Wn(t.prototype,n),e&&Wn(t,e),t}function Kn(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a}var Un=new Mn,Ln=function(){function t(){qn(this,t)}return Vn(t,[{key:"getDefaultUser",value:function(){return"admin@test.com"}}]),t}();Ln=Kn([Bn()],Ln);var zn=function(){function t(){qn(this,t)}return Vn(t,[{key:"login",value:function(){console.log("Login in as default user")}}]),t}();function Hn(t){var n=t.model,e=t.controller,i=n.getDefaultUser,o=e.login,a=i();return r().createElement(r().Fragment,null,r().createElement(c.Field,{label:"Email",error:"Name is required"},r().createElement(c.Input,{required:!0,placeholder:"Roger Waters",defaultValue:a,type:"email"})),r().createElement(c.Field,{label:"password",error:"Password is required"},r().createElement(c.Input,{required:!0,type:"password"})),r().createElement(c.Button,{onClick:o},"Login"))}function Gn(){var t,n,e=(t=["\n    margin-top: ",";\n  "],n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})));return Gn=function(){return e},e}function Jn(){var t=(0,c.useStyles2)(Yn);return r().createElement(v.PluginPage,null,r().createElement("div",null,"Login",r().createElement("div",{className:t.marginTop},r().createElement(Hn,{model:Un.get("LoginFormModel"),controller:Un.get("LoginFormController")}))))}zn=Kn([Bn()],zn),Un.bind("LoginFormModel").to(Ln),Un.bind("LoginFormController").to(zn);var Yn=function(t){return{marginTop:(0,a.css)(Gn(),t.spacing(2))}},$n=l(464);function Qn(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Xn(t,n,e,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,i)}function Zn(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){Xn(o,r,i,a,c,"next",t)}function c(t){Xn(o,r,i,a,c,"throw",t)}a(void 0)}))}}function te(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ne(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){te(t,n,e[n])}))}return t}function ee(t,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t}function re(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function ie(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function oe(){var t=re(["\n    color: ",";\n  "]);return oe=function(){return t},t}function ae(){var t=re(["\n    margin-top: ",";\n  "]);return ae=function(){return t},t}var ce,ue=function(t){return{colorWeak:(0,a.css)(oe(),t.colors.text.secondary),marginTop:(0,a.css)(ae(),t.spacing(3))}},se=(ce=Zn((function(t,n){var e;return ie(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,le(t,n)];case 1:return r.sent(),window.location.reload(),[3,3];case 2:return e=r.sent(),console.error("Error while updating the plugin",e),[3,3];case 3:return[2]}}))})),function(t,n){return ce.apply(this,arguments)}),le=function(){var t=Zn((function(t,n){var e;return ie(this,(function(r){switch(r.label){case 0:return[4,(0,v.getBackendSrv)().fetch({url:"/api/plugins/".concat(t,"/settings"),method:"POST",data:n})];case 1:return e=r.sent(),[2,(0,$n.lastValueFrom)(e)]}}))}));return function(n,e){return t.apply(this,arguments)}}(),fe=(new n.AppPlugin).setRootPage((function(n){return r().createElement(i.Routes,null,r().createElement(i.Route,{path:t.Two,element:r().createElement(G,null)}),r().createElement(i.Route,{path:"".concat(t.Three,"/:id?"),element:r().createElement(z,null)}),r().createElement(i.Route,{path:t.IOC,element:r().createElement(Jn,null)}),r().createElement(i.Route,{path:t.Four,element:r().createElement(_,null)}),r().createElement(i.Route,{path:"*",element:r().createElement(I,null)}))})).addConfigPage({title:"Configuration",icon:"cog",body:function(t){var n=t.plugin,i=(0,c.useStyles2)(ue),o=n.meta,a=o.enabled,u=o.pinned,l=o.jsonData,f=o.secureJsonFields,p=function(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==e.return||e.return()}finally{if(c)throw i}}return o}}(t,n)||function(t,n){if(t){if("string"==typeof t)return Qn(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Qn(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)({apiUrl:(null==l?void 0:l.apiUrl)||"",apiKey:"",isApiKeySet:Boolean(null==f?void 0:f.apiKey)}),2),d=p[0],h=p[1],y=function(t){h(ee(ne({},d),te({},t.target.name,t.target.value.trim())))};return r().createElement("div",{"data-testid":s.container},r().createElement(c.FieldSet,{label:"API Settings"},r().createElement(c.Field,{label:"API Key",description:"A secret key for authenticating to our custom API"},r().createElement(c.SecretInput,{width:60,"data-testid":s.apiKey,name:"apiKey",value:d.apiKey,isConfigured:d.isApiKeySet,placeholder:"Your secret API key",onChange:y,onReset:function(){return h(ee(ne({},d),{apiKey:"",isApiKeySet:!1}))}})),r().createElement(c.Field,{label:"API Url",description:"",className:i.marginTop},r().createElement(c.Input,{width:60,name:"apiUrl","data-testid":s.apiUrl,value:d.apiUrl,placeholder:"E.g.: http://mywebsite.com/api/v1",onChange:y})),r().createElement("div",{className:i.marginTop},r().createElement(c.Button,{type:"submit","data-testid":s.submit,onClick:function(){return se(n.meta.id,{enabled:a,pinned:u,jsonData:{apiUrl:d.apiUrl},secureJsonData:d.isApiKeySet?void 0:{apiKey:d.apiKey}})},disabled:Boolean(!d.apiUrl||!d.isApiKeySet&&!d.apiKey)},"Save API settings"))))},id:"configuration"})})(),f})()));
//# sourceMappingURL=module.js.map